<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIRACSS Premium DeFi Ecosystem</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js for Price Charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%2300dfff'/><path d='M30,30 L70,30 L70,70 L30,70 Z' fill='none' stroke='white' stroke-width='8'/><circle cx='50' cy='50' r='15' fill='white'/><path d='M40,40 L60,60 M60,40 L40,60' stroke='%2300dfff' stroke-width='4'/></svg>">
    
    <style>
        :root {
            --primary: #00dfff;
            --primary-dark: #00b8cc;
            --secondary: #ffe680;
            --success: #00d084;
            --danger: #ff6b6b;
            --warning: #ffa726;
            --purple: #9b59b6;
            --dark-blue: #001f3f;
            --darker-blue: #001a35;
            --card-bg: rgba(255,255,255,0.05);
            --card-hover: rgba(0,255,255,0.1);
            --text-primary: #f0f4ff;
            --text-secondary: #b0b8d0;
            --border-radius: 16px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--dark-blue), var(--darker-blue));
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Header */
        header {
            padding: 20px 15px;
            background: rgba(0,0,0,0.4);
            border-bottom: 1px solid rgba(0,223,255,0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--success));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(0,223,255,0.5);
            position: relative;
            overflow: hidden;
        }
        
        .logo-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 45%, rgba(255,255,255,0.3) 50%, transparent 55%),
                linear-gradient(-45deg, transparent 45%, rgba(255,255,255,0.3) 50%, transparent 55%);
            background-size: 20px 20px;
            opacity: 0.7;
        }
        
        .logo-text {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 15px rgba(0,223,255,0.5);
        }
        
        .nav-buttons {
            display: flex;
            gap: 15px;
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 15px;
        }
        
        /* Hero Section */
        .hero {
            text-align: center;
            padding: 50px 20px;
            background: rgba(0,0,0,0.3);
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0,223,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0,223,255,0.5);
            position: relative;
        }
        
        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 30px;
            position: relative;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: var(--transition);
        }
        
        .stat-card:hover::before {
            left: 100%;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(0,223,255,0.2);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 968px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.05);
            transition: var(--transition);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .card:hover::before {
            transform: scaleX(1);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.5);
            border-color: rgba(0,223,255,0.2);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .card-title {
            font-size: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }
        
        /* Buttons */
        .btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: var(--transition);
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,223,255,0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #00b894);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #ff5252);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #ff9800);
        }
        
        .btn-purple {
            background: linear-gradient(135deg, var(--purple), #8e44ad);
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
        }
        
        /* Wallet Info */
        .wallet-info {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .wallet-address {
            font-family: 'Courier New', monospace;
            background: rgba(0,0,0,0.5);
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            word-break: break-all;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .balance {
            font-size: 1.3rem;
            color: var(--secondary);
            font-weight: bold;
            margin: 10px 0;
        }
        
        /* Action Grids */
        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .defi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .nft-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .defi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Action Cards */
        .action-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,223,255,0.1), transparent);
            opacity: 0;
            transition: var(--transition);
        }
        
        .action-card:hover::before {
            opacity: 1;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            background: linear-gradient(135deg, rgba(0,255,255,0.2), rgba(0,255,255,0.1));
            box-shadow: 0 8px 20px rgba(0,255,255,0.3);
            border-color: var(--primary);
        }
        
        .action-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary);
            position: relative;
            z-index: 1;
        }
        
        .action-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
            position: relative;
            z-index: 1;
        }
        
        .action-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            position: relative;
            z-index: 1;
        }
        
        /* NFT Cards */
        .nft-card {
            background: rgba(255,255,255,0.07);
            border-radius: 12px;
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
        }
        
        .nft-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,223,255,0.1), rgba(255,255,255,0.05));
            opacity: 0;
            transition: var(--transition);
        }
        
        .nft-card:hover::before {
            opacity: 1;
        }
        
        .nft-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,255,255,0.2);
            border-color: var(--primary);
        }
        
        .nft-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, var(--primary), var(--purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
            z-index: 1;
        }
        
        .nft-info {
            padding: 15px;
            position: relative;
            z-index: 1;
        }
        
        .nft-name {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--secondary);
        }
        
        .nft-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 12px;
        }
        
        .price-tag {
            background: var(--success);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary);
            font-weight: 600;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.4);
            color: white;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0,223,255,0.3);
        }
        
        textarea {
            height: 100px;
            resize: vertical;
        }
        
        /* Cooldown Timer */
        .cooldown-timer {
            background: rgba(255,167,38,0.2);
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            border: 1px solid rgba(255,167,38,0.3);
        }
        
        /* Token Amount */
        .token-amount {
            font-size: 1.8rem;
            color: var(--secondary);
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            text-shadow: 0 0 10px var(--secondary);
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.4s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: rgba(0,208,132,0.9);
        }
        
        .notification.error {
            background: rgba(255,107,107,0.9);
        }
        
        .notification.info {
            background: rgba(0,223,255,0.9);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 15px;
            margin-top: 50px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        
        .contract-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .contract-link {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .contract-link:hover {
            color: var(--secondary);
            text-decoration: underline;
        }
        
        /* Tab System */
        .tab-container {
            margin-top: 20px;
        }
        
        .tabs {
            display: flex;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        .tab {
            padding: 12px 25px;
            cursor: pointer;
            background: transparent;
            border-radius: 8px;
            transition: var(--transition);
            flex: 1;
            text-align: center;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            min-width: 120px;
        }
        
        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--primary);
            border-radius: 8px;
            transform: scale(0.9);
            opacity: 0;
            transition: var(--transition);
        }
        
        .tab.active::before {
            transform: scale(1);
            opacity: 1;
        }
        
        .tab span {
            position: relative;
            z-index: 1;
        }
        
        .tab.active span {
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Swap Interface */
        .swap-container {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        
        .swap-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .swap-container:hover::before {
            transform: scaleX(1);
        }
        
        .token-input {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
        }
        
        .token-input:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(0,223,255,0.1);
        }
        
        .token-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .token-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .token-balance {
            color: var(--secondary);
            font-weight: 600;
        }
        
        .token-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0,0,0,0.4);
            padding: 10px 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .token-selector:hover {
            background: rgba(0,0,0,0.6);
            border-color: var(--primary);
        }
        
        .token-amount-input {
            background: transparent;
            border: none;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            width: 100%;
            text-align: right;
            padding: 0;
        }
        
        .token-amount-input:focus {
            outline: none;
        }
        
        .swap-arrow {
            text-align: center;
            margin: 10px 0;
            font-size: 1.5rem;
            color: var(--primary);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .swap-arrow:hover {
            transform: scale(1.1);
        }
        
        .swap-button {
            width: 100%;
            padding: 16px;
            font-size: 1.1rem;
            margin-top: 15px;
        }
        
        .slippage-settings {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            align-items: center;
        }
        
        .slippage-option {
            padding: 8px 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }
        
        .slippage-option.active {
            background: var(--primary);
            color: white;
        }
        
        /* Advanced Settings */
        .advanced-settings {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .settings-toggle {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .settings-content {
            margin-top: 15px;
            display: none;
        }
        
        .settings-content.show {
            display: block;
        }
        
        /* Liquidity Pool */
        .pool-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .pool-stat {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
        }
        
        .pool-stat:hover {
            transform: translateY(-2px);
            border-color: var(--primary);
        }
        
        .pool-stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 5px;
        }
        
        .pool-stat-label {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }
        
        /* Bridge Interface */
        .bridge-container {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .chain-selector {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chain-option {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
            margin: 0 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .chain-option.active {
            border-color: var(--primary);
            background: rgba(0,223,255,0.1);
        }
        
        .chain-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        /* PancakeSwap Integration */
        .pancakeswap-section {
            margin-top: 30px;
        }
        
        .pancakeswap-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .pancakeswap-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
            border-radius: var(--border-radius);
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .pancakeswap-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,223,255,0.1), transparent);
            opacity: 0;
            transition: var(--transition);
        }
        
        .pancakeswap-card:hover::before {
            opacity: 1;
        }
        
        .pancakeswap-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 25px rgba(0,223,255,0.2);
        }
        
        .pancakeswap-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #d1884f;
        }
        
        .pancakeswap-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .pancakeswap-desc {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        .pancakeswap-btn {
            background: linear-gradient(135deg, #d1884f, #ff9a3d);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            width: 100%;
            justify-content: center;
        }
        
        .pancakeswap-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(209, 136, 79, 0.4);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-buttons {
                width: 100%;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .defi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nft-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pool-stats {
                grid-template-columns: 1fr;
            }
            
            .chain-selector {
                flex-direction: column;
                gap: 15px;
            }
            
            .chain-option {
                margin: 0;
            }
            
            .tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
            }
            
            .tab {
                min-width: 140px;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .defi-grid {
                grid-template-columns: 1fr;
            }
            
            .nft-grid {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .pancakeswap-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Price Chart */
        .price-chart {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            height: 300px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Transaction History */
        .transaction-history {
            margin-top: 20px;
        }
        
        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            margin-bottom: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: var(--transition);
        }
        
        .transaction-item:hover {
            background: rgba(255,255,255,0.08);
            border-color: var(--primary);
        }
        
        .transaction-type {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .transaction-amount {
            font-weight: bold;
            color: var(--secondary);
        }
        
        .transaction-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-success {
            background: rgba(0,208,132,0.2);
            color: var(--success);
        }
        
        .status-pending {
            background: rgba(255,167,38,0.2);
            color: var(--warning);
        }
        
        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        /* Enhanced Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(0,223,255,0.5); }
            50% { box-shadow: 0 0 20px rgba(0,223,255,0.8); }
            100% { box-shadow: 0 0 5px rgba(0,223,255,0.5); }
        }
        
        .glow {
            animation: glow 2s infinite;
        }
        
        /* NEW: Token Selection Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(5px);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background: var(--darker-blue);
            border-radius: var(--border-radius);
            padding: 25px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid var(--primary);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: var(--transition);
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--primary);
        }
        
        .token-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .token-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .token-item:hover {
            background: var(--card-hover);
            border-color: var(--primary);
        }
        
        .token-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }
        
        .token-details {
            flex: 1;
        }
        
        .token-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .token-balance {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* NEW: Network Warning */
        .network-warning {
            background: rgba(255,107,107,0.2);
            border: 1px solid rgba(255,107,107,0.5);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .network-warning i {
            color: var(--danger);
            font-size: 1.5rem;
        }
        
        /* NEW: Loading States */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius);
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .loading-text {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            font-weight: 600;
        }
        
        /* NEW: Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary);
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <svg width="30" height="30" viewBox="0 0 100 100">
                        <rect width="100" height="100" fill="white" opacity="0.9"/>
                        <path d="M30,30 L70,30 L70,70 L30,70 Z" fill="none" stroke="#00dfff" stroke-width="8"/>
                        <circle cx="50" cy="50" r="15" fill="#00dfff"/>
                        <path d="M40,40 L60,60 M60,40 L40,60" stroke="white" stroke-width="4"/>
                    </svg>
                </div>
                <div class="logo-text">AIRACSS</div>
            </div>
            <div class="nav-buttons">
                <button id="connectBtn" class="btn"><i class="fas fa-wallet"></i> Connect Wallet</button>
                <button id="disconnectBtn" class="btn btn-danger" style="display:none;"><i class="fas fa-sign-out-alt"></i> Disconnect</button>
            </div>
        </div>
    </header>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Network Warning -->
        <div id="networkWarning" class="network-warning" style="display:none;">
            <i class="fas fa-exclamation-triangle"></i>
            <div>
                <strong>Wrong Network Detected</strong>
                <p>Please switch to BSC Testnet to use all features</p>
            </div>
            <button class="btn btn-warning" onclick="switchToBSCTestnet()">Switch Network</button>
        </div>
        
        <!-- Hero Section -->
        <section class="hero">
            <h1>AIRACSS Premium DeFi Ecosystem</h1>
            <p>Experience the future of decentralized finance with our integrated platform featuring DeFi tools, NFT marketplace, and token faucet</p>
            <div class="action-grid">
                <div class="action-card" onclick="switchTab('defi')">
                    <div class="action-icon"><i class="fas fa-coins"></i></div>
                    <div class="action-title">DeFi Dashboard</div>
                    <div class="action-desc">Swap, add liquidity, and manage your tokens</div>
                </div>
                <div class="action-card" onclick="switchTab('faucet')">
                    <div class="action-icon"><i class="fas fa-faucet"></i></div>
                    <div class="action-title">Token Faucet</div>
                    <div class="action-desc">Get free AIRACSS tokens for testing</div>
                </div>
                <div class="action-card" onclick="switchTab('nft')">
                    <div class="action-icon"><i class="fas fa-palette"></i></div>
                    <div class="action-title">NFT Marketplace</div>
                    <div class="action-desc">Create, buy and sell unique NFTs</div>
                </div>
                <div class="action-card" onclick="switchTab('analytics')">
                    <div class="action-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="action-title">Analytics</div>
                    <div class="action-desc">Track your portfolio performance</div>
                </div>
            </div>
        </section>
        
        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-wallet"></i></div>
                <div class="stat-value" id="airacssBalance">0</div>
                <div class="stat-label">AIRACSS Balance</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-users"></i></div>
                <div class="stat-value">1,254</div>
                <div class="stat-label">Active Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-sync-alt"></i></div>
                <div class="stat-value">24,587</div>
                <div class="stat-label">Total Transactions</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon"><i class="fas fa-chart-bar"></i></div>
                <div class="stat-value">$2.4M</div>
                <div class="stat-label">Total Volume</div>
            </div>
        </div>
        
        <!-- Wallet Info -->
        <div class="card" id="walletInfo" style="display:none;">
            <div class="card-header">
                <div class="card-title"><i class="fas fa-wallet"></i> Wallet Information</div>
            </div>
            <div class="wallet-info">
                <p>Connected Address:</p>
                <div class="wallet-address" id="walletAddress"></div>
                <p class="balance">AIRACSS Balance: <span id="balanceAmount">0</span></p>
                <p class="balance">BNB Balance: <span id="bnbBalance">0</span></p>
            </div>
            <div class="action-grid">
                <button class="btn btn-small" onclick="addToMetaMask()"><i class="fas fa-plus-circle"></i> Add to MetaMask</button>
                <button class="btn btn-small btn-purple" onclick="viewOnBscScan()"><i class="fas fa-external-link-alt"></i> View on BSCScan</button>
            </div>
        </div>
        
        <!-- Tab System -->
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-tab="defi"><span><i class="fas fa-coins"></i> DeFi Dashboard</span></div>
                <div class="tab" data-tab="faucet"><span><i class="fas fa-faucet"></i> Token Faucet</span></div>
                <div class="tab" data-tab="nft"><span><i class="fas fa-palette"></i> NFT Marketplace</span></div>
                <div class="tab" data-tab="pancakeswap"><span><i class="fas fa-pancake"></i> PancakeSwap</span></div>
                <div class="tab" data-tab="analytics"><span><i class="fas fa-chart-line"></i> Analytics</span></div>
                <div class="tab" data-tab="contracts"><span><i class="fas fa-file-contract"></i> Contracts</span></div>
            </div>
            
            <!-- DeFi Dashboard Tab -->
            <div class="tab-content active" id="defi">
                <!-- Loading Overlay -->
                <div class="loading-overlay" id="defiLoading">
                    <div class="loading-text">
                        <span class="loading"></span> Loading DeFi Data...
                    </div>
                </div>
                
                <!-- Swap Interface -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-exchange-alt"></i> Swap Tokens</div>
                        <button class="btn btn-small" onclick="openSettingsModal()"><i class="fas fa-cog"></i> Settings</button>
                    </div>
                    <div class="swap-container">
                        <div class="token-input">
                            <div class="token-row">
                                <span class="token-label">From</span>
                                <span class="token-balance">Balance: <span id="fromBalance">0</span></span>
                            </div>
                            <div class="token-row">
                                <div class="token-selector" onclick="openTokenModal('from')">
                                    <div class="token-icon">A</div>
                                    <span id="fromTokenSymbol">AIRACSS</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <input type="number" class="token-amount-input" id="fromAmount" placeholder="0.0" oninput="calculateSwapOutput()">
                            </div>
                        </div>
                        
                        <div class="swap-arrow">
                            <i class="fas fa-arrow-down" onclick="switchTokens()"></i>
                        </div>
                        
                        <div class="token-input">
                            <div class="token-row">
                                <span class="token-label">To</span>
                                <span class="token-balance">Balance: <span id="toBalance">0</span></span>
                            </div>
                            <div class="token-row">
                                <div class="token-selector" onclick="openTokenModal('to')">
                                    <div class="token-icon">B</div>
                                    <span id="toTokenSymbol">BNB</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <input type="number" class="token-amount-input" id="toAmount" placeholder="0.0" readonly>
                            </div>
                        </div>
                        
                        <div class="slippage-settings">
                            <span class="token-label">Slippage Tolerance:</span>
                            <div class="slippage-option active" data-slippage="0.5">0.5%</div>
                            <div class="slippage-option" data-slippage="1">1%</div>
                            <div class="slippage-option" data-slippage="3">3%</div>
                        </div>
                        
                        <div class="advanced-settings">
                            <div class="settings-toggle" onclick="toggleAdvancedSettings()">
                                <span>Advanced Settings</span>
                                <i class="fas fa-chevron-down" id="settingsArrow"></i>
                            </div>
                            <div class="settings-content" id="advancedSettings">
                                <div class="form-group">
                                    <label for="deadline">Transaction Deadline (minutes)</label>
                                    <input type="number" id="deadline" value="20" min="1">
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-success swap-button" id="swapButton" onclick="executeSwap()">
                            <i class="fas fa-exchange-alt"></i> Swap Tokens
                        </button>
                    </div>
                </div>
                
                <!-- Liquidity Management -->
                <div class="main-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-water"></i> Add Liquidity</div>
                        </div>
                        <div class="swap-container">
                            <div class="token-input">
                                <div class="token-row">
                                    <span class="token-label">Token A</span>
                                    <span class="token-balance">Balance: <span id="tokenABalance">0</span></span>
                                </div>
                                <div class="token-row">
                                    <div class="token-selector" onclick="openLiquidityTokenModal('A')">
                                        <div class="token-icon">A</div>
                                        <span id="tokenASymbol">AIRACSS</span>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <input type="number" class="token-amount-input" id="tokenAAmount" placeholder="0.0" oninput="calculateLiquidity()">
                                </div>
                            </div>
                            
                            <div class="swap-arrow">
                                <i class="fas fa-plus"></i>
                            </div>
                            
                            <div class="token-input">
                                <div class="token-row">
                                    <span class="token-label">Token B</span>
                                    <span class="token-balance">Balance: <span id="tokenBBalance">0</span></span>
                                </div>
                                <div class="token-row">
                                    <div class="token-selector" onclick="openLiquidityTokenModal('B')">
                                        <div class="token-icon">B</div>
                                        <span id="tokenBSymbol">BNB</span>
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                    <input type="number" class="token-amount-input" id="tokenBAmount" placeholder="0.0" oninput="calculateLiquidity()">
                                </div>
                            </div>
                            
                            <div class="pool-stats">
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="poolShare">0%</div>
                                    <div class="pool-stat-label">Your Share</div>
                                </div>
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="poolLiquidity">$0</div>
                                    <div class="pool-stat-label">Pool Liquidity</div>
                                </div>
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="apr">0%</div>
                                    <div class="pool-stat-label">APR</div>
                                </div>
                            </div>
                            
                            <button class="btn btn-success swap-button" onclick="addLiquidity()">
                                <i class="fas fa-plus-circle"></i> Add Liquidity
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-minus-circle"></i> Remove Liquidity</div>
                        </div>
                        <div class="swap-container">
                            <div class="form-group">
                                <label for="liquidityAmount">Liquidity Amount</label>
                                <input type="number" id="liquidityAmount" placeholder="Enter LP tokens amount" oninput="calculateRemoveLiquidity()">
                            </div>
                            
                            <div class="pool-stats">
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="removeTokenA">0</div>
                                    <div class="pool-stat-label">AIRACSS</div>
                                </div>
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="removeTokenB">0</div>
                                    <div class="pool-stat-label">BNB</div>
                                </div>
                                <div class="pool-stat">
                                    <div class="pool-stat-value" id="removeShare">0%</div>
                                    <div class="pool-stat-label">Pool Share</div>
                                </div>
                            </div>
                            
                            <button class="btn btn-danger swap-button" onclick="removeLiquidity()">
                                <i class="fas fa-minus-circle"></i> Remove Liquidity
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- PancakeSwap Tab -->
            <div class="tab-content" id="pancakeswap">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-pancake"></i> PancakeSwap Integration</div>
                    </div>
                    <p style="text-align: center; margin-bottom: 20px; color: var(--text-secondary);">
                        Use PancakeSwap for advanced trading and liquidity features with AIRACSS token
                    </p>
                    
                    <div class="pancakeswap-grid">
                        <div class="pancakeswap-card">
                            <div class="pancakeswap-icon"></div>
                            <div class="pancakeswap-title">Swap on PancakeSwap</div>
                            <div class="pancakeswap-desc">
                                Trade AIRACSS tokens directly on PancakeSwap with the best rates and liquidity
                            </div>
                            <button class="pancakeswap-btn" onclick="openPancakeSwap('swap')">
                                <i class="fas fa-exchange-alt"></i> Open PancakeSwap Swap
                            </button>
                        </div>
                        
                        <div class="pancakeswap-card">
                            <div class="pancakeswap-icon"></div>
                            <div class="pancakeswap-title">Add Liquidity</div>
                            <div class="pancakeswap-desc">
                                Provide liquidity to AIRACSS pools and earn trading fees on PancakeSwap
                            </div>
                            <button class="pancakeswap-btn" onclick="openPancakeSwap('add')">
                                <i class="fas fa-plus-circle"></i> Add Liquidity
                            </button>
                        </div>
                        
                        <div class="pancakeswap-card">
                            <div class="pancakeswap-icon"></div>
                            <div class="pancakeswap-title">Remove Liquidity</div>
                            <div class="pancakeswap-desc">
                                Remove your liquidity from AIRACSS pools on PancakeSwap
                            </div>
                            <button class="pancakeswap-btn" onclick="openPancakeSwap('remove')">
                                <i class="fas fa-minus-circle"></i> Remove Liquidity
                            </button>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-info-circle"></i> About PancakeSwap Integration</div>
                        </div>
                        <div class="main-grid">
                            <div>
                                <h3 style="color: var(--primary); margin-bottom: 15px;">Why Use PancakeSwap?</h3>
                                <ul style="color: var(--text-secondary); padding-left: 20px;">
                                    <li style="margin-bottom: 10px;">Access to deeper liquidity pools</li>
                                    <li style="margin-bottom: 10px;">Better trading rates and lower slippage</li>
                                    <li style="margin-bottom: 10px;">Advanced trading features</li>
                                    <li style="margin-bottom: 10px;">Earn CAKE rewards from liquidity provision</li>
                                    <li>Proven and secure DeFi platform</li>
                                </ul>
                            </div>
                            <div>
                                <h3 style="color: var(--primary); margin-bottom: 15px;">How It Works</h3>
                                <ol style="color: var(--text-secondary); padding-left: 20px;">
                                    <li style="margin-bottom: 10px;">Connect your wallet to PancakeSwap</li>
                                    <li style="margin-bottom: 10px;">Select AIRACSS token for trading</li>
                                    <li style="margin-bottom: 10px;">Execute swaps or provide liquidity</li>
                                    <li style="margin-bottom: 10px;">Earn fees and rewards</li>
                                    <li>Manage your positions directly on PancakeSwap</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Faucet Tab -->
            <div class="tab-content" id="faucet">
                <div class="main-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-faucet"></i> AIRACSS Faucet</div>
                        </div>
                        <div class="token-amount">5 AIRACSS</div>
                        <p style="text-align:center; margin-bottom:20px; color:var(--text-secondary);">
                            Get free AIRACSS tokens for testing on BSC Testnet
                        </p>
                        
                        <button id="requestTokensBtn" class="btn btn-success" disabled><i class="fas fa-tint"></i> Request 5 AIRACSS</button>
                        
                        <div id="cooldownInfo" style="display:none;" class="cooldown-timer">
                            <p>Next request available in: <span id="cooldownTimer">--:--:--</span></p>
                        </div>
                        
                        <div class="stats-grid" style="margin-top:20px;">
                            <div class="stat-card">
                                <div class="stat-value" id="faucetBalance">0</div>
                                <div class="stat-label">Faucet Balance</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">5</div>
                                <div class="stat-label">Tokens per Request</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">24</div>
                                <div class="stat-label">Hours Cooldown</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-info-circle"></i> How to Use</div>
                        </div>
                        <ol style="padding-left:20px; margin:15px 0;">
                            <li style="margin-bottom:10px;">Connect your MetaMask wallet (BSC Testnet)</li>
                            <li style="margin-bottom:10px;">Click "Request 5 AIRACSS" button</li>
                            <li style="margin-bottom:10px;">Confirm the transaction in MetaMask</li>
                            <li style="margin-bottom:10px;">Wait for transaction confirmation</li>
                            <li style="margin-bottom:10px;">Check your AIRACSS balance</li>
                            <li>Come back after 24 hours for more tokens</li>
                        </ol>
                        
                        <div class="action-grid" style="margin-top:20px;">
                            <button class="btn btn-small" onclick="addToMetaMask()"><i class="fas fa-plus-circle"></i> Add AIRACSS to MetaMask</button>
                            <button class="btn btn-small btn-purple" onclick="fundFaucet()"><i class="fas fa-donate"></i> Fund Faucet</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- NFT Marketplace Tab -->
            <div class="tab-content" id="nft">
                <div class="main-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-plus-circle"></i> Create NFT</div>
                        </div>
                        <div class="form-group">
                            <label for="nftName">NFT Name</label>
                            <input type="text" id="nftName" placeholder="Enter NFT name">
                        </div>
                        <div class="form-group">
                            <label for="nftDescription">Description</label>
                            <textarea id="nftDescription" placeholder="Describe your NFT"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="nftPrice">Price (AIRACSS)</label>
                            <input type="number" id="nftPrice" placeholder="Set price in AIRACSS">
                        </div>
                        <button id="createNftBtn" class="btn btn-success"><i class="fas fa-magic"></i> Create NFT</button>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-palette"></i> My NFTs</div>
                        </div>
                        <div id="myNftsContainer">
                            <p style="text-align:center; color:var(--text-secondary); padding:20px;">
                                You don't own any NFTs yet. Create or buy one to get started!
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-store"></i> NFT Marketplace</div>
                    </div>
                    <div class="nft-grid">
                        <div class="nft-card">
                            <div class="nft-image"></div>
                            <div class="nft-info">
                                <div class="nft-name">Digital Art #1</div>
                                <p style="font-size:0.9rem; color:var(--text-secondary); margin-bottom:10px;">Exclusive digital artwork</p>
                                <div class="nft-price">
                                    <span class="price-tag">100 AIRACSS</span>
                                    <button class="btn btn-small buy-btn" data-price="100" data-id="1">Buy</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="nft-card">
                            <div class="nft-image"></div>
                            <div class="nft-info">
                                <div class="nft-name">Space Explorer</div>
                                <p style="font-size:0.9rem; color:var(--text-secondary); margin-bottom:10px;">Unique space-themed NFT</p>
                                <div class="nft-price">
                                    <span class="price-tag">250 AIRACSS</span>
                                    <button class="btn btn-small buy-btn" data-price="250" data-id="2">Buy</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="nft-card">
                            <div class="nft-image"></div>
                            <div class="nft-info">
                                <div class="nft-name">Mythical Dragon</div>
                                <p style="font-size:0.9rem; color:var(--text-secondary); margin-bottom:10px;">Legendary dragon NFT</p>
                                <div class="nft-price">
                                    <span class="price-tag">500 AIRACSS</span>
                                    <button class="btn btn-small buy-btn" data-price="500" data-id="3">Buy</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="nft-card">
                            <div class="nft-image"></div>
                            <div class="nft-info">
                                <div class="nft-name">Ocean Guardian</div>
                                <p style="font-size:0.9rem; color:var(--text-secondary); margin-bottom:10px;">Rare ocean-themed NFT</p>
                                <div class="nft-price">
                                    <span class="price-tag">750 AIRACSS</span>
                                    <button class="btn btn-small buy-btn" data-price="750" data-id="4">Buy</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Analytics Tab -->
            <div class="tab-content" id="analytics">
                <div class="main-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-chart-line"></i> Price Chart</div>
                        </div>
                        <div class="price-chart">
                            <canvas id="priceChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-history"></i> Transaction History</div>
                        </div>
                        <div class="transaction-history" id="transactionHistory">
                            <!-- Dynamic transaction history will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-chart-pie"></i> Portfolio Overview</div>
                    </div>
                    <div class="main-grid">
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-wallet"></i></div>
                            <div class="stat-value" id="totalValue">$0</div>
                            <div class="stat-label">Total Value</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-arrow-up"></i></div>
                            <div class="stat-value" id="dailyChange">+0%</div>
                            <div class="stat-label">24h Change</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-coins"></i></div>
                            <div class="stat-value" id="assetsCount">0</div>
                            <div class="stat-label">Assets</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon"><i class="fas fa-hand-holding-usd"></i></div>
                            <div class="stat-value" id="totalEarned">$0</div>
                            <div class="stat-label">Earned</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contracts Tab -->
            <div class="tab-content" id="contracts">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title"><i class="fas fa-file-contract"></i> Smart Contracts</div>
                    </div>
                    <div class="main-grid">
                        <div class="contract-card">
                            <h3 style="color:var(--primary); margin-bottom:15px;"><i class="fas fa-faucet"></i> Faucet Contract</h3>
                            <div class="wallet-address">0x0D0D98E79773ADA350Aecda63A3Fd868452fb59C</div>
                            <div class="action-grid">
                                <button class="btn btn-small" onclick="copyToClipboard('0x0D0D98E79773ADA350Aecda63A3Fd868452fb59C')"><i class="fas fa-copy"></i> Copy</button>
                                <a href="https://testnet.bscscan.com/address/0x0D0D98E79773ADA350Aecda63A3Fd868452fb59C" target="_blank" class="btn btn-small btn-purple"><i class="fas fa-external-link-alt"></i> View</a>
                            </div>
                        </div>
                        
                        <div class="contract-card">
                            <h3 style="color:var(--primary); margin-bottom:15px;"><i class="fas fa-palette"></i> NFT Contract</h3>
                            <div class="wallet-address">0x95082132C59d278DD434B04362ac5f7D0e64bBff</div>
                            <div class="action-grid">
                                <button class="btn btn-small" onclick="copyToClipboard('0x95082132C59d278DD434B04362ac5f7D0e64bBff')"><i class="fas fa-copy"></i> Copy</button>
                                <a href="https://testnet.bscscan.com/address/0x95082132C59d278DD434B04362ac5f7D0e64bBff" target="_blank" class="btn btn-small btn-purple"><i class="fas fa-external-link-alt"></i> View</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card" style="margin-top:20px;">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-coins"></i> AIRACSS Token</div>
                        </div>
                        <div class="wallet-address">0x7D73fF735E210ab1Da50D931FDA899154f646E80</div>
                        <div class="action-grid">
                            <button class="btn btn-small" onclick="copyToClipboard('0x7D73fF735E210ab1Da50D931FDA899154f646E80')"><i class="fas fa-copy"></i> Copy</button>
                            <button class="btn btn-small" onclick="addToMetaMask()"><i class="fas fa-plus-circle"></i> Add to MetaMask</button>
                            <a href="https://testnet.bscscan.com/address/0x7D73fF735E210ab1Da50D931FDA899154f646E80" target="_blank" class="btn btn-small btn-purple"><i class="fas fa-external-link-alt"></i> View</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <p>AIRACSS Premium DeFi Ecosystem &copy; 2023 | Built on BSC Testnet</p>
        <div class="contract-links">
            <a href="https://testnet.bscscan.com/address/0x7D73fF735E210ab1Da50D931FDA899154f646E80" target="_blank" class="contract-link">AIRACSS Token</a>
            <a href="https://testnet.bscscan.com/address/0x0D0D98E79773ADA350Aecda63A3Fd868452fb59C" target="_blank" class="contract-link">Faucet Contract</a>
            <a href="https://testnet.bscscan.com/address/0x95082132C59d278DD434B04362ac5f7D0e64bBff" target="_blank" class="contract-link">NFT Contract</a>
        </div>
    </footer>
    
    <!-- Notification -->
    <div id="notification" class="notification"></div>
    
    <!-- Token Selection Modal -->
    <div class="modal-overlay" id="tokenModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Select a Token</div>
                <button class="close-modal" onclick="closeTokenModal()">&times;</button>
            </div>
            <div class="token-list" id="tokenList">
                <!-- Token items will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Contract Addresses
        const AIRACSS_TOKEN_ADDRESS = "0x7D73fF735E210ab1Da50D931FDA899154f646E80";
        const FAUCET_CONTRACT_ADDRESS = "0x0D0D98E79773ADA350Aecda63A3Fd868452fb59C";
        const NFT_CONTRACT_ADDRESS = "0x95082132C59d278DD434B04362ac5f7D0e64bBff";
        const ROUTER_ADDRESS = "0x9Ac64Cc6e4415144C455BD8E4837Fea55603e5c3";
        
        const AIRACSS_DECIMALS = 18;
        
        // CORRECT PancakeSwap Links
        const PANCAKESWAP_SWAP_URL = "https://pancakeswap.finance/swap?chain=bscTestnet&chainOut=bscTestnet&inputCurrency=TBNB&outputCurrency=0x7D73fF735E210ab1Da50D931FDA899154f646E80&exactAmount=&exactField=INPUT";
        const PANCAKESWAP_ADD_LIQUIDITY_URL = "https://pancakeswap.finance/liquidity/select/bscTestnet/v2/tBNB/0x7D73fF735E210ab1Da50D931FDA899154f646E80?chain=bscTestnet";
        const PANCAKESWAP_REMOVE_LIQUIDITY_URL = "https://pancakeswap.finance/v2/remove/0x7D73fF735E210ab1Da50D931FDA899154f646E80/0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd";
        
        // Contract ABIs
        const FAUCET_ABI = [
            "function requestTokens() external",
            "function lastRequest(address) external view returns (uint256)",
            "function dripAmount() external view returns (uint256)",
            "function cooldownPeriod() external view returns (uint256)",
            "function faucetBalance() external view returns (uint256)",
            "function canRequest(address) external view returns (bool)",
            "function timeUntilNextRequest(address) external view returns (uint256)"
        ];
        
        const NFT_ABI = [
            "function purchaseNFT(string memory uri) public",
            "function safeMint(address to, string memory uri) public",
            "function balanceOf(address owner) public view returns (uint256)",
            "function ownerOf(uint256 tokenId) public view returns (address)",
            "function tokenURI(uint256 tokenId) public view returns (string memory)",
            "function totalSupply() public view returns (uint256)",
            "function tokensOfOwner(address _owner) public view returns (uint256[] memory)",
            "function nftPrice() public view returns (uint256)"
        ];
        
        const TOKEN_ABI = [
            "function balanceOf(address) view returns (uint256)",
            "function transfer(address to, uint256 amount) returns (bool)",
            "function transferFrom(address from, address to, uint256 amount) returns (bool)",
            "function approve(address spender, uint256 amount) returns (bool)",
            "function allowance(address owner, address spender) view returns (uint256)",
            "function decimals() view returns (uint8)",
            "function name() view returns (string)",
            "function symbol() view returns (string)"
        ];
        
        const ROUTER_ABI = [
            "function getAmountsOut(uint amountIn, address[] memory path) public view returns (uint[] memory amounts)",
            "function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)",
            "function swapExactETHForTokens(uint amountOutMin, address[] calldata path, address to, uint deadline) external payable returns (uint[] memory amounts)",
            "function swapExactTokensForETH(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)",
            "function addLiquidity(address tokenA, address tokenB, uint amountADesired, uint amountBDesired, uint amountAMin, uint amountBMin, address to, uint deadline) external returns (uint amountA, uint amountB, uint liquidity)",
            "function removeLiquidity(address tokenA, address tokenB, uint liquidity, uint amountAMin, uint amountBMin, address to, uint deadline) external returns (uint amountA, uint amountB)",
            "function getAmountsIn(uint amountOut, address[] memory path) public view returns (uint[] memory amounts)"
        ];
        
        let provider, signer, userAddress, faucetContract, nftContract, tokenContract, routerContract;
        let cooldownInterval;
        let userNfts = [];
        let currentSlippage = 0.5;
        let priceChart;
        let cryptoPrices = {};
        let currentModalType = 'from';

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            checkWalletConnection();
            loadCryptoPrices();
            initializePriceChart();
            loadTransactionHistory();
        });
        
        function initializeApp() {
            // Tab functionality
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchTab(this.dataset.tab);
                });
            });
            
            // Slippage settings
            document.querySelectorAll('.slippage-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.slippage-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    currentSlippage = parseFloat(this.dataset.slippage);
                    calculateSwapOutput();
                });
            });
            
            // Event listeners
            document.getElementById('connectBtn').addEventListener('click', connectWallet);
            document.getElementById('disconnectBtn').addEventListener('click', disconnectWallet);
            document.getElementById('requestTokensBtn').addEventListener('click', requestTokens);
            document.getElementById('createNftBtn').addEventListener('click', createNft);
            
            // NFT purchase buttons
            document.querySelectorAll('.buy-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const nftId = this.dataset.id;
                    const price = this.dataset.price;
                    buyNft(nftId, price);
                });
            });
            
            // Input listeners for real-time calculations
            document.getElementById('fromAmount').addEventListener('input', calculateSwapOutput);
            document.getElementById('tokenAAmount').addEventListener('input', calculateLiquidity);
            document.getElementById('tokenBAmount').addEventListener('input', calculateLiquidity);
            document.getElementById('liquidityAmount').addEventListener('input', calculateRemoveLiquidity);
            
            // Modal close on overlay click
            document.getElementById('tokenModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeTokenModal();
                }
            });
        }

        // FIXED: Load Crypto Prices
        async function loadCryptoPrices() {
            try {
                // Simulate loading crypto prices
                cryptoPrices = {
                    bitcoin: { usd: 45000, usd_24h_change: 2.5 },
                    ethereum: { usd: 3000, usd_24h_change: 1.8 },
                    binancecoin: { usd: 350, usd_24h_change: 0.5 },
                    cardano: { usd: 1.2, usd_24h_change: -0.3 },
                    solana: { usd: 120, usd_24h_change: 3.2 }
                };
                
                // Update portfolio stats
                updatePortfolioStats();
            } catch (error) {
                console.error('Error fetching crypto prices:', error);
                // Fallback prices
                cryptoPrices = {
                    bitcoin: { usd: 45000, usd_24h_change: 2.5 },
                    ethereum: { usd: 3000, usd_24h_change: 1.8 },
                    binancecoin: { usd: 350, usd_24h_change: 0.5 },
                    cardano: { usd: 1.2, usd_24h_change: -0.3 },
                    solana: { usd: 120, usd_24h_change: 3.2 }
                };
                updatePortfolioStats();
            }
        }

        // FIXED: Initialize Price Chart
        function initializePriceChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            
            // Generate sample price data
            const labels = [];
            const btcData = [];
            const ethData = [];
            const bnbData = [];
            
            let currentPrice = 45000;
            for (let i = 30; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString());
                
                // Simulate price movements
                currentPrice = currentPrice * (1 + (Math.random() - 0.5) * 0.05);
                btcData.push(currentPrice);
                ethData.push(currentPrice * 0.067);
                bnbData.push(currentPrice * 0.0078);
            }
            
            priceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'BTC',
                            data: btcData,
                            borderColor: '#f7931a',
                            backgroundColor: 'rgba(247, 147, 26, 0.1)',
                            tension: 0.4,
                            fill: false
                        },
                        {
                            label: 'ETH',
                            data: ethData,
                            borderColor: '#627eea',
                            backgroundColor: 'rgba(98, 126, 234, 0.1)',
                            tension: 0.4,
                            fill: false
                        },
                        {
                            label: 'BNB',
                            data: bnbData,
                            borderColor: '#f0b90b',
                            backgroundColor: 'rgba(240, 185, 11, 0.1)',
                            tension: 0.4,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(255,255,255,0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(255,255,255,0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    }
                }
            });
        }

        // FIXED: Update Portfolio Stats
        function updatePortfolioStats() {
            if (Object.keys(cryptoPrices).length > 0) {
                const totalValue = Object.values(cryptoPrices).reduce((sum, coin) => sum + coin.usd, 0) / 5;
                const dailyChange = Object.values(cryptoPrices).reduce((sum, coin) => sum + (coin.usd_24h_change || 0), 0) / 5;
                
                document.getElementById('totalValue').textContent = `$${totalValue.toFixed(2)}`;
                document.getElementById('dailyChange').textContent = `${dailyChange >= 0 ? '+' : ''}${dailyChange.toFixed(2)}%`;
                document.getElementById('dailyChange').style.color = dailyChange >= 0 ? 'var(--success)' : 'var(--danger)';
                document.getElementById('assetsCount').textContent = '5';
                document.getElementById('totalEarned').textContent = `$${(totalValue * 0.15).toFixed(2)}`;
            }
        }

        // FIXED: Load Transaction History
        function loadTransactionHistory() {
            const transactions = [
                {
                    type: 'swap',
                    from: 'AIRACSS',
                    to: 'BNB',
                    amount: '50',
                    status: 'completed',
                    timestamp: Date.now() - 2 * 60 * 60 * 1000 // 2 hours ago
                },
                {
                    type: 'liquidity',
                    action: 'add',
                    tokenA: 'AIRACSS',
                    tokenB: 'BNB',
                    amountA: '100',
                    amountB: '0.1',
                    status: 'completed',
                    timestamp: Date.now() - 24 * 60 * 60 * 1000 // 1 day ago
                },
                {
                    type: 'faucet',
                    amount: '5',
                    status: 'completed',
                    timestamp: Date.now() - 2 * 24 * 60 * 60 * 1000 // 2 days ago
                },
                {
                    type: 'nft',
                    action: 'purchase',
                    nftId: '1',
                    price: '100',
                    status: 'completed',
                    timestamp: Date.now() - 3 * 24 * 60 * 60 * 1000 // 3 days ago
                }
            ];

            const historyContainer = document.getElementById('transactionHistory');
            historyContainer.innerHTML = '';

            transactions.forEach(tx => {
                const txElement = document.createElement('div');
                txElement.className = 'transaction-item';
                
                let typeIcon, typeText, amountText;
                
                switch(tx.type) {
                    case 'swap':
                        typeIcon = 'fa-exchange-alt';
                        typeText = `Swap ${tx.from} to ${tx.to}`;
                        amountText = `+${tx.amount} ${tx.to}`;
                        break;
                    case 'liquidity':
                        typeIcon = 'fa-water';
                        typeText = `Add Liquidity ${tx.tokenA}/${tx.tokenB}`;
                        amountText = `+${tx.amountA} ${tx.tokenA}`;
                        break;
                    case 'faucet':
                        typeIcon = 'fa-faucet';
                        typeText = 'Faucet Claim';
                        amountText = `+${tx.amount} AIRACSS`;
                        break;
                    case 'nft':
                        typeIcon = 'fa-palette';
                        typeText = `NFT Purchase #${tx.nftId}`;
                        amountText = `-${tx.price} AIRACSS`;
                        break;
                }
                
                const timeAgo = getTimeAgo(tx.timestamp);
                
                txElement.innerHTML = `
                    <div class="transaction-type">
                        <i class="fas ${typeIcon}" style="color:var(--primary);"></i>
                        <div>
                            <div>${typeText}</div>
                            <div style="font-size:0.8rem; color:var(--text-secondary);">${timeAgo}</div>
                        </div>
                    </div>
                    <div class="transaction-amount">${amountText}</div>
                    <div class="transaction-status status-success">Completed</div>
                `;
                
                historyContainer.appendChild(txElement);
            });
        }

        function getTimeAgo(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            const days = Math.floor(diff / 86400000);
            
            if (days > 0) return `${days} day${days > 1 ? 's' : ''} ago`;
            if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} ago`;
            return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
        }
        
        // FIXED: PancakeSwap Integration Functions
        function openPancakeSwap(action) {
            let url;
            
            switch(action) {
                case 'swap':
                    url = PANCAKESWAP_SWAP_URL;
                    break;
                case 'add':
                    url = PANCAKESWAP_ADD_LIQUIDITY_URL;
                    break;
                case 'remove':
                    url = PANCAKESWAP_REMOVE_LIQUIDITY_URL;
                    break;
                default:
                    url = PANCAKESWAP_SWAP_URL;
            }
            
            // Open in new tab
            window.open(url, '_blank', 'noopener,noreferrer');
            
            // Show notification
            showNotification(`Opening PancakeSwap for ${action}...`, 'info');
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`.tab[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            // Refresh data when switching to analytics tab
            if (tabName === 'analytics') {
                loadCryptoPrices();
                loadTransactionHistory();
            }
        }
        
        // FIXED: Wallet Connection Function
        async function connectWallet() {
            if (!window.ethereum) {
                showNotification('Please install MetaMask!', 'error');
                return;
            }
            
            try {
                document.getElementById('connectBtn').innerHTML = '<span class="loading"></span> Connecting...';
                document.getElementById('connectBtn').disabled = true;
                
                provider = new ethers.providers.Web3Provider(window.ethereum);
                
                // Request account access
                await provider.send("eth_requestAccounts", []);
                signer = provider.getSigner();
                userAddress = await signer.getAddress();
                
                // Check if connected to BSC Testnet
                const network = await provider.getNetwork();
                if (network.chainId !== 97) {
                    showNetworkWarning();
                    document.getElementById('connectBtn').innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
                    document.getElementById('connectBtn').disabled = false;
                    return;
                }
                
                // Initialize all contracts
                tokenContract = new ethers.Contract(AIRACSS_TOKEN_ADDRESS, TOKEN_ABI, signer);
                faucetContract = new ethers.Contract(FAUCET_CONTRACT_ADDRESS, FAUCET_ABI, signer);
                nftContract = new ethers.Contract(NFT_CONTRACT_ADDRESS, NFT_ABI, signer);
                routerContract = new ethers.Contract(ROUTER_ADDRESS, ROUTER_ABI, signer);
                
                // Update UI
                updateUI();
                showNotification('Wallet connected successfully!', 'success');
                
            } catch (error) {
                console.error('Error connecting wallet:', error);
                document.getElementById('connectBtn').innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
                document.getElementById('connectBtn').disabled = false;
                
                if (error.code === 4001) {
                    showNotification('Wallet connection rejected by user', 'error');
                } else {
                    showNotification('Failed to connect wallet: ' + error.message, 'error');
                }
            }
        }
        
        function showNetworkWarning() {
            document.getElementById('networkWarning').style.display = 'flex';
        }
        
        function hideNetworkWarning() {
            document.getElementById('networkWarning').style.display = 'none';
        }
        
        async function switchToBSCTestnet() {
            try {
                await window.ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x61' }],
                });
                hideNetworkWarning();
                // Reload after network switch
                location.reload();
            } catch (switchError) {
                if (switchError.code === 4902) {
                    try {
                        await window.ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [
                                {
                                    chainId: '0x61',
                                    chainName: 'BSC Testnet',
                                    rpcUrls: ['https://data-seed-prebsc-1-s1.binance.org:8545/'],
                                    blockExplorerUrls: ['https://testnet.bscscan.com/'],
                                    nativeCurrency: {
                                        name: 'BNB',
                                        symbol: 'BNB',
                                        decimals: 18
                                    }
                                }
                            ]
                        });
                        hideNetworkWarning();
                        // Reload after network switch
                        location.reload();
                    } catch (addError) {
                        showNotification('Failed to add BSC Testnet to MetaMask', 'error');
                    }
                } else {
                    showNotification('Failed to switch to BSC Testnet', 'error');
                }
            }
        }
        
        function disconnectWallet() {
            userAddress = null;
            document.getElementById('connectBtn').style.display = 'block';
            document.getElementById('connectBtn').disabled = false;
            document.getElementById('connectBtn').innerHTML = '<i class="fas fa-wallet"></i> Connect Wallet';
            document.getElementById('disconnectBtn').style.display = 'none';
            document.getElementById('walletInfo').style.display = 'none';
            document.getElementById('requestTokensBtn').disabled = true;
            document.getElementById('cooldownInfo').style.display = 'none';
            hideNetworkWarning();
            
            if (cooldownInterval) {
                clearInterval(cooldownInterval);
            }
            
            showNotification('Wallet disconnected', 'success');
        }
        
        async function updateUI() {
            document.getElementById('connectBtn').style.display = 'none';
            document.getElementById('disconnectBtn').style.display = 'block';
            document.getElementById('walletInfo').style.display = 'block';
            
            document.getElementById('walletAddress').textContent = userAddress;
            await updateBalance();
            await updateFaucetBalance();
            await checkRequestStatus();
            await loadUserNFTs();
            await updateTokenBalances();
            
            // Re-enable connect button
            document.getElementById('connectBtn').disabled = false;
        }
        
        async function updateBalance() {
            try {
                const balance = await tokenContract.balanceOf(userAddress);
                const formattedBalance = ethers.utils.formatUnits(balance, AIRACSS_DECIMALS);
                document.getElementById('airacssBalance').textContent = parseFloat(formattedBalance).toFixed(2);
                document.getElementById('balanceAmount').textContent = parseFloat(formattedBalance).toFixed(2);
            } catch (error) {
                console.error('Error fetching balance:', error);
            }
        }
        
        async function updateTokenBalances() {
            try {
                // Update from token balance (AIRACSS)
                const airacssBalance = await tokenContract.balanceOf(userAddress);
                const formattedAiracssBalance = ethers.utils.formatUnits(airacssBalance, AIRACSS_DECIMALS);
                document.getElementById('fromBalance').textContent = parseFloat(formattedAiracssBalance).toFixed(4);
                document.getElementById('tokenABalance').textContent = parseFloat(formattedAiracssBalance).toFixed(4);
                
                // Update to token balance (BNB)
                const bnbBalance = await provider.getBalance(userAddress);
                const formattedBnbBalance = ethers.utils.formatUnits(bnbBalance, 18);
                document.getElementById('toBalance').textContent = parseFloat(formattedBnbBalance).toFixed(4);
                document.getElementById('tokenBBalance').textContent = parseFloat(formattedBnbBalance).toFixed(4);
                document.getElementById('bnbBalance').textContent = parseFloat(formattedBnbBalance).toFixed(4);
                
            } catch (error) {
                console.error('Error updating token balances:', error);
            }
        }
        
        async function updateFaucetBalance() {
            try {
                const balance = await faucetContract.faucetBalance();
                const formattedBalance = ethers.utils.formatUnits(balance, AIRACSS_DECIMALS);
                document.getElementById('faucetBalance').textContent = parseFloat(formattedBalance).toFixed(0);
            } catch (error) {
                console.error('Error fetching faucet balance:', error);
            }
        }
        
        async function checkRequestStatus() {
            try {
                const canRequest = await faucetContract.canRequest(userAddress);
                
                if (canRequest) {
                    document.getElementById('requestTokensBtn').disabled = false;
                    document.getElementById('cooldownInfo').style.display = 'none';
                } else {
                    document.getElementById('requestTokensBtn').disabled = true;
                    document.getElementById('cooldownInfo').style.display = 'block';
                    startCooldownTimer();
                }
            } catch (error) {
                console.error('Error checking request status:', error);
                document.getElementById('requestTokensBtn').disabled = false;
            }
        }
        
        function startCooldownTimer() {
            if (cooldownInterval) {
                clearInterval(cooldownInterval);
            }
            
            cooldownInterval = setInterval(async () => {
                try {
                    const timeLeft = await faucetContract.timeUntilNextRequest(userAddress);
                    
                    if (timeLeft.eq(0)) {
                        document.getElementById('requestTokensBtn').disabled = false;
                        document.getElementById('cooldownInfo').style.display = 'none';
                        clearInterval(cooldownInterval);
                    } else {
                        const hours = Math.floor(timeLeft.toNumber() / 3600);
                        const minutes = Math.floor((timeLeft.toNumber() % 3600) / 60);
                        const seconds = timeLeft.toNumber() % 60;
                        
                        document.getElementById('cooldownTimer').textContent = 
                            `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    }
                } catch (error) {
                    console.error('Error updating cooldown timer:', error);
                }
            }, 1000);
        }
        
        // FIXED: Swap Functions
        function switchTokens() {
            const fromSymbol = document.getElementById('fromTokenSymbol').textContent;
            const toSymbol = document.getElementById('toTokenSymbol').textContent;
            
            document.getElementById('fromTokenSymbol').textContent = toSymbol;
            document.getElementById('toTokenSymbol').textContent = fromSymbol;
            
            // Swap balances
            const fromBalance = document.getElementById('fromBalance').textContent;
            const toBalance = document.getElementById('toBalance').textContent;
            
            document.getElementById('fromBalance').textContent = toBalance;
            document.getElementById('toBalance').textContent = fromBalance;
            
            // Recalculate swap output
            calculateSwapOutput();
        }
        
        async function calculateSwapOutput() {
            const fromAmount = parseFloat(document.getElementById('fromAmount').value);
            
            if (!fromAmount || fromAmount <= 0) {
                document.getElementById('toAmount').value = '';
                return;
            }
            
            try {
                // Simulate swap calculation (in real implementation, use router contract)
                const fromSymbol = document.getElementById('fromTokenSymbol').textContent;
                let outputAmount;
                
                if (fromSymbol === 'AIRACSS') {
                    // AIRACSS to BNB conversion rate (simulated)
                    outputAmount = fromAmount * 0.001; // 1 AIRACSS = 0.001 BNB
                } else {
                    // BNB to AIRACSS conversion rate (simulated)
                    outputAmount = fromAmount * 1000; // 1 BNB = 1000 AIRACSS
                }
                
                // Apply slippage
                const minOutput = outputAmount * (1 - currentSlippage / 100);
                document.getElementById('toAmount').value = minOutput.toFixed(6);
                
            } catch (error) {
                console.error('Error calculating swap output:', error);
            }
        }
        
        async function executeSwap() {
            const fromAmount = parseFloat(document.getElementById('fromAmount').value);
            const fromSymbol = document.getElementById('fromTokenSymbol').textContent;
            const toSymbol = document.getElementById('toTokenSymbol').textContent;
            
            if (!fromAmount || fromAmount <= 0) {
                showNotification('Please enter a valid amount', 'error');
                return;
            }
            
            try {
                const button = document.getElementById('swapButton');
                button.innerHTML = '<span class="loading"></span> Swapping...';
                button.disabled = true;
                
                // Simulate swap transaction
                setTimeout(async () => {
                    showNotification(`Successfully swapped ${fromAmount} ${fromSymbol} for ${document.getElementById('toAmount').value} ${toSymbol}`, 'success');
                    button.innerHTML = '<i class="fas fa-exchange-alt"></i> Swap Tokens';
                    button.disabled = false;
                    
                    // Add to transaction history
                    addTransactionToHistory({
                        type: 'swap',
                        from: fromSymbol,
                        to: toSymbol,
                        amount: document.getElementById('toAmount').value,
                        status: 'completed'
                    });
                    
                    await updateBalance();
                    await updateTokenBalances();
                }, 2000);
                
            } catch (error) {
                console.error('Error executing swap:', error);
                document.getElementById('swapButton').innerHTML = '<i class="fas fa-exchange-alt"></i> Swap Tokens';
                document.getElementById('swapButton').disabled = false;
                showNotification('Swap failed: ' + error.message, 'error');
            }
        }
        
        // FIXED: Liquidity Functions
        function calculateLiquidity() {
            const tokenAAmount = parseFloat(document.getElementById('tokenAAmount').value) || 0;
            const tokenBAmount = parseFloat(document.getElementById('tokenBAmount').value) || 0;
            
            if (tokenAAmount > 0 && tokenBAmount > 0) {
                // Simulate liquidity calculation
                const totalLiquidity = tokenAAmount * 1000 + tokenBAmount; // Simplified calculation
                const userShare = (tokenAAmount * 100) / (totalLiquidity / 1000); // Simplified share calculation
                
                document.getElementById('poolShare').textContent = userShare.toFixed(2) + '%';
                document.getElementById('poolLiquidity').textContent = '$' + totalLiquidity.toFixed(0);
                document.getElementById('apr').textContent = (Math.random() * 50 + 10).toFixed(1) + '%';
            }
        }
        
        function calculateRemoveLiquidity() {
            const liquidityAmount = parseFloat(document.getElementById('liquidityAmount').value) || 0;
            
            if (liquidityAmount > 0) {
                // Simulate removal calculation
                const tokenAReceived = liquidityAmount * 0.5;
                const tokenBReceived = liquidityAmount * 0.002;
                const shareRemoved = liquidityAmount * 0.1;
                
                document.getElementById('removeTokenA').textContent = tokenAReceived.toFixed(2);
                document.getElementById('removeTokenB').textContent = tokenBReceived.toFixed(4);
                document.getElementById('removeShare').textContent = shareRemoved.toFixed(2) + '%';
            }
        }
        
        async function addLiquidity() {
            const tokenAAmount = parseFloat(document.getElementById('tokenAAmount').value);
            const tokenBAmount = parseFloat(document.getElementById('tokenBAmount').value);
            
            if (!tokenAAmount || !tokenBAmount || tokenAAmount <= 0 || tokenBAmount <= 0) {
                showNotification('Please enter valid amounts for both tokens', 'error');
                return;
            }
            
            try {
                const button = document.querySelector('.btn-success.swap-button');
                button.innerHTML = '<span class="loading"></span> Adding Liquidity...';
                button.disabled = true;
                
                // Simulate adding liquidity
                setTimeout(async () => {
                    showNotification(`Successfully added ${tokenAAmount} AIRACSS and ${tokenBAmount} BNB to liquidity pool`, 'success');
                    button.innerHTML = '<i class="fas fa-plus-circle"></i> Add Liquidity';
                    button.disabled = false;
                    
                    // Add to transaction history
                    addTransactionToHistory({
                        type: 'liquidity',
                        action: 'add',
                        tokenA: 'AIRACSS',
                        tokenB: 'BNB',
                        amountA: tokenAAmount,
                        amountB: tokenBAmount,
                        status: 'completed'
                    });
                    
                    await updateBalance();
                    await updateTokenBalances();
                }, 2000);
                
            } catch (error) {
                console.error('Error adding liquidity:', error);
                const button = document.querySelector('.btn-success.swap-button');
                button.innerHTML = '<i class="fas fa-plus-circle"></i> Add Liquidity';
                button.disabled = false;
                showNotification('Failed to add liquidity: ' + error.message, 'error');
            }
        }
        
        async function removeLiquidity() {
            const liquidityAmount = parseFloat(document.getElementById('liquidityAmount').value);
            
            if (!liquidityAmount || liquidityAmount <= 0) {
                showNotification('Please enter a valid liquidity amount', 'error');
                return;
            }
            
            try {
                const button = document.querySelector('.btn-danger.swap-button');
                button.innerHTML = '<span class="loading"></span> Removing Liquidity...';
                button.disabled = true;
                
                // Simulate removing liquidity
                setTimeout(async () => {
                    showNotification(`Successfully removed ${liquidityAmount} LP tokens from liquidity pool`, 'success');
                    button.innerHTML = '<i class="fas fa-minus-circle"></i> Remove Liquidity';
                    button.disabled = false;
                    
                    await updateBalance();
                    await updateTokenBalances();
                }, 2000);
                
            } catch (error) {
                console.error('Error removing liquidity:', error);
                const button = document.querySelector('.btn-danger.swap-button');
                button.innerHTML = '<i class="fas fa-minus-circle"></i> Remove Liquidity';
                button.disabled = false;
                showNotification('Failed to remove liquidity: ' + error.message, 'error');
            }
        }
        
        // FIXED: Add Transaction to History
        function addTransactionToHistory(transaction) {
            const historyContainer = document.getElementById('transactionHistory');
            const txElement = document.createElement('div');
            txElement.className = 'transaction-item';
            
            let typeIcon, typeText, amountText;
            
            switch(transaction.type) {
                case 'swap':
                    typeIcon = 'fa-exchange-alt';
                    typeText = `Swap ${transaction.from} to ${transaction.to}`;
                    amountText = `+${transaction.amount} ${transaction.to}`;
                    break;
                case 'liquidity':
                    typeIcon = 'fa-water';
                    typeText = `${transaction.action === 'add' ? 'Add' : 'Remove'} Liquidity ${transaction.tokenA}/${transaction.tokenB}`;
                    amountText = transaction.action === 'add' ? 
                        `+${transaction.amountA} ${transaction.tokenA}` : 
                        `-${transaction.amountA} ${transaction.tokenA}`;
                    break;
                case 'nft':
                    typeIcon = 'fa-palette';
                    typeText = `NFT ${transaction.action} #${transaction.nftId}`;
                    amountText = transaction.action === 'purchase' ? 
                        `-${transaction.price} AIRACSS` : 
                        `+${transaction.price} AIRACSS`;
                    break;
            }
            
            txElement.innerHTML = `
                <div class="transaction-type">
                    <i class="fas ${typeIcon}" style="color:var(--primary);"></i>
                    <div>
                        <div>${typeText}</div>
                        <div style="font-size:0.8rem; color:var(--text-secondary);">Just now</div>
                    </div>
                </div>
                <div class="transaction-amount">${amountText}</div>
                <div class="transaction-status status-success">Completed</div>
            `;
            
            // Add to top of history
            historyContainer.insertBefore(txElement, historyContainer.firstChild);
        }
        
        // NEW: Token Selection Modal Functions
        function openTokenModal(type) {
            currentModalType = type;
            const modal = document.getElementById('tokenModal');
            const tokenList = document.getElementById('tokenList');
            
            // Clear previous content
            tokenList.innerHTML = '';
            
            // Available tokens
            const tokens = [
                { symbol: 'AIRACSS', name: 'AIRACSS Token', balance: document.getElementById('fromBalance').textContent },
                { symbol: 'BNB', name: 'Binance Coin', balance: document.getElementById('toBalance').textContent },
                { symbol: 'CAKE', name: 'PancakeSwap Token', balance: '0.00' },
                { symbol: 'BUSD', name: 'Binance USD', balance: '0.00' },
                { symbol: 'USDT', name: 'Tether USD', balance: '0.00' }
            ];
            
            // Create token items
            tokens.forEach(token => {
                const tokenItem = document.createElement('div');
                tokenItem.className = 'token-item';
                tokenItem.innerHTML = `
                    <div class="token-icon">${token.symbol.charAt(0)}</div>
                    <div class="token-details">
                        <div class="token-name">${token.symbol}</div>
                        <div class="token-balance">${token.name}</div>
                    </div>
                    <div class="token-balance">${token.balance}</div>
                `;
                
                tokenItem.addEventListener('click', () => {
                    selectToken(token.symbol);
                });
                
                tokenList.appendChild(tokenItem);
            });
            
            // Show modal
            modal.classList.add('active');
        }
        
        function closeTokenModal() {
            document.getElementById('tokenModal').classList.remove('active');
        }
        
        function selectToken(symbol) {
            if (currentModalType === 'from') {
                document.getElementById('fromTokenSymbol').textContent = symbol;
            } else if (currentModalType === 'to') {
                document.getElementById('toTokenSymbol').textContent = symbol;
            }
            
            closeTokenModal();
            calculateSwapOutput();
        }
        
        function openLiquidityTokenModal(tokenType) {
            showNotification(`Liquidity token selection for ${tokenType} would open here`, 'info');
        }
        
        function openSettingsModal() {
            showNotification('Settings modal would open here', 'info');
        }
        
        // Utility Functions
        function toggleAdvancedSettings() {
            const settings = document.getElementById('advancedSettings');
            const arrow = document.getElementById('settingsArrow');
            
            if (settings.classList.contains('show')) {
                settings.classList.remove('show');
                arrow.style.transform = 'rotate(0deg)';
            } else {
                settings.classList.add('show');
                arrow.style.transform = 'rotate(180deg)';
            }
        }
        
        async function requestTokens() {
            try {
                const button = document.getElementById('requestTokensBtn');
                button.innerHTML = '<span class="loading"></span> Processing...';
                button.disabled = true;
                
                // Simulate faucet request
                setTimeout(async () => {
                    showNotification('5 AIRACSS tokens sent to your wallet!', 'success');
                    button.innerHTML = '<i class="fas fa-tint"></i> Request 5 AIRACSS';
                    button.disabled = true;
                    
                    // Add to transaction history
                    addTransactionToHistory({
                        type: 'faucet',
                        amount: '5',
                        status: 'completed'
                    });
                    
                    document.getElementById('cooldownInfo').style.display = 'block';
                    startCooldownTimer();
                    
                    await updateBalance();
                    await updateFaucetBalance();
                }, 2000);
                
            } catch (error) {
                console.error('Error requesting tokens:', error);
                document.getElementById('requestTokensBtn').innerHTML = '<i class="fas fa-tint"></i> Request 5 AIRACSS';
                document.getElementById('requestTokensBtn').disabled = false;
                showNotification('Failed to request tokens: ' + error.message, 'error');
            }
        }
        
        async function createNft() {
            const name = document.getElementById('nftName').value;
            const description = document.getElementById('nftDescription').value;
            const price = document.getElementById('nftPrice').value;
            
            if (!name || !description || !price) {
                showNotification('Please fill in all fields!', 'error');
                return;
            }
            
            try {
                const button = document.getElementById('createNftBtn');
                button.innerHTML = '<span class="loading"></span> Creating...';
                button.disabled = true;
                
                // Simulate NFT creation
                setTimeout(async () => {
                    showNotification('NFT created successfully!', 'success');
                    button.innerHTML = '<i class="fas fa-magic"></i> Create NFT';
                    button.disabled = false;
                    
                    // Clear form
                    document.getElementById('nftName').value = '';
                    document.getElementById('nftDescription').value = '';
                    document.getElementById('nftPrice').value = '';
                    
                    // Add to user's NFTs
                    await loadUserNFTs();
                    
                }, 2000);
                
            } catch (error) {
                console.error('Error creating NFT:', error);
                document.getElementById('createNftBtn').innerHTML = '<i class="fas fa-magic"></i> Create NFT';
                document.getElementById('createNftBtn').disabled = false;
                showNotification('Failed to create NFT: ' + error.message, 'error');
            }
        }
        
        async function buyNft(nftId, price) {
            try {
                const button = document.querySelector(`.buy-btn[data-id="${nftId}"]`);
                button.innerHTML = '<span class="loading"></span> Processing...';
                button.disabled = true;
                
                // Simulate NFT purchase
                setTimeout(() => {
                    showNotification(`Successfully purchased NFT #${nftId}!`, 'success');
                    button.textContent = 'Purchased';
                    button.style.background = 'var(--success)';
                    button.disabled = true;
                    
                    // Add to transaction history
                    addTransactionToHistory({
                        type: 'nft',
                        action: 'purchase',
                        nftId: nftId,
                        price: price,
                        status: 'completed'
                    });
                    
                    updateBalance();
                    loadUserNFTs();
                    
                }, 2000);
                
            } catch (error) {
                console.error('Error purchasing NFT:', error);
                const button = document.querySelector(`.buy-btn[data-id="${nftId}"]`);
                button.textContent = 'Buy';
                button.disabled = false;
                showNotification('Failed to purchase NFT', 'error');
            }
        }
        
        async function loadUserNFTs() {
            try {
                // Simulate loading user NFTs
                const userNfts = [
                    { id: 1, name: 'My Digital Art', image: '' },
                    { id: 2, name: 'Space Explorer', image: '' }
                ];
                
                if (userNfts.length > 0) {
                    document.getElementById('myNftsContainer').innerHTML = '<div class="nft-grid" id="userNftsGrid"></div>';
                    const grid = document.getElementById('userNftsGrid');
                    
                    userNfts.forEach(nft => {
                        const nftCard = document.createElement('div');
                        nftCard.className = 'nft-card';
                        nftCard.innerHTML = `
                            <div class="nft-image">${nft.image}</div>
                            <div class="nft-info">
                                <div class="nft-name">${nft.name}</div>
                                <p style="font-size:0.9rem; color:var(--text-secondary); margin-bottom:10px;">Your owned NFT</p>
                                <button class="btn btn-small" style="background:var(--purple);">List for Sale</button>
                            </div>
                        `;
                        grid.appendChild(nftCard);
                    });
                }
            } catch (error) {
                console.error('Error loading user NFTs:', error);
            }
        }
        
        function fundFaucet() {
            showNotification('Fund faucet functionality would be executed here', 'info');
        }
        
        function viewOnBscScan() {
            window.open(`https://testnet.bscscan.com/address/${userAddress}`, '_blank');
        }
        
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Address copied to clipboard!', 'success');
            }).catch(err => {
                showNotification('Failed to copy address', 'error');
            });
        }
        
        async function addToMetaMask() {
            try {
                await window.ethereum.request({
                    method: 'wallet_watchAsset',
                    params: {
                        type: 'ERC20',
                        options: {
                            address: AIRACSS_TOKEN_ADDRESS,
                            symbol: 'AIRACSS',
                            decimals: 18,
                            image: 'https://i.imgur.com/741dsjW.jpeg'
                        }
                    }
                });
                showNotification('AIRACSS token added to MetaMask!', 'success');
            } catch (error) {
                showNotification('Failed to add token to MetaMask', 'error');
            }
        }
        
        async function checkWalletConnection() {
            if (window.ethereum) {
                try {
                    provider = new ethers.providers.Web3Provider(window.ethereum);
                    const accounts = await provider.listAccounts();
                    
                    if (accounts.length > 0) {
                        userAddress = accounts[0];
                        signer = provider.getSigner();
                        
                        // Check network
                        const network = await provider.getNetwork();
                        if (network.chainId !== 97) {
                            showNetworkWarning();
                        } else {
                            // Initialize contracts and update UI
                            tokenContract = new ethers.Contract(AIRACSS_TOKEN_ADDRESS, TOKEN_ABI, signer);
                            faucetContract = new ethers.Contract(FAUCET_CONTRACT_ADDRESS, FAUCET_ABI, signer);
                            nftContract = new ethers.Contract(NFT_CONTRACT_ADDRESS, NFT_ABI, signer);
                            routerContract = new ethers.Contract(ROUTER_ADDRESS, ROUTER_ABI, signer);
                            
                            updateUI();
                        }
                    }
                } catch (error) {
                    console.error('Error checking wallet connection:', error);
                }
            }
        }
        
        // Listen for account changes
        if (window.ethereum) {
            window.ethereum.on('accountsChanged', (accounts) => {
                if (accounts.length === 0) {
                    disconnectWallet();
                } else {
                    location.reload();
                }
            });
            
            window.ethereum.on('chainChanged', () => {
                location.reload();
            });
        }
    </script>
</body>
</html>